import { GraphQLError } from 'graphql';
export const Query = {
    books: async (parent, args, { db, models }) => {
        const result = await db.query(models.Book.allBooks());
        return result.rows.slice(0, 99);
    },
    oneBook: async (parent, args, { db, models }) => {
        try {
            const result = await db.query(models.Book.findBook(args));
            return result.rows[0];
        }
        catch (error) {
            throw new GraphQLError("The book not found!");
        }
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXVlcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvcmVzb2x2ZXJzL3F1ZXJ5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFJdkMsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFHO0lBQ25CLEtBQUssRUFBRSxLQUFLLEVBQUUsTUFBcUIsRUFBRSxJQUFpQixFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBUyxFQUFFLEVBQUU7UUFDL0UsTUFBTSxNQUFNLEdBQUcsTUFBTSxFQUFFLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztRQUN0RCxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBQ0QsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFxQixFQUFFLElBQWlCLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFTLEVBQUMsRUFBRTtRQUNoRixJQUFHO1lBQ0QsTUFBTSxNQUFNLEdBQUcsTUFBTSxFQUFFLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUE7WUFDekQsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQ3RCO1FBQUEsT0FBTSxLQUFLLEVBQUM7WUFDWCxNQUFNLElBQUksWUFBWSxDQUFDLHFCQUFxQixDQUFDLENBQUE7U0FDOUM7SUFDSCxDQUFDO0NBQ0YsQ0FBQyJ9